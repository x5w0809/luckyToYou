(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{382:function(t,e,n){var content=n(385);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(27).default)("fca9a8f8",content,!0,{sourceMap:!1})},383:function(t,e,n){"use strict";n.r(e);n(28),n(25),n(29);var r={name:"Gift",props:{trigger:{type:Date,default:!1},config:{type:Object,required:!0},isMobileMedia:{default:!1,type:Boolean}},data:function(){return{isRunning:!1,currentDeg:0,targetDeg:0,giftsDeg:[],randomDeg:0}},computed:{displayType:function(){return this.config.run3D?"three-dimension":"flat"},rotate:function(){return 360/this.config.gifts.length},translateZ:function(){var t=this.config.height;return this.isMobileMedia&&(t=.25*window.innerWidth),t/2/Math.tan(this.rotate/2/180*Math.PI)},playResultRotate:function(){return this.$store.state.playResultRotate}},watch:{config:{handler:function(){this.setConfig()},deep:!0},trigger:function(){this.autoTurn()},isRunning:function(){var t=this;this.isRunning&&setTimeout((function(){t.autoTurnStop()}),this.config.duration+200)}},mounted:function(){this.setConfig(),this.logGiftsDeg()},destroyed:function(){},methods:{logGiftsDeg:function(){var t=this;this.config.gifts.forEach((function(e,n){t.giftsDeg[n]={from:0===n?0:t.giftsDeg[n-1].to,to:0===n?t.rotate:t.giftsDeg[n-1].to+t.rotate,name:e.name}}))},setConfig:function(){this.$el.style.setProperty("--rotateY","".concat(this.config.rotateY,"deg")),this.$el.style.setProperty("--duration","".concat(this.config.duration,"ms")),this.$el.style.setProperty("--fontSize","".concat(this.config.fontSize,"px")),this.$el.style.setProperty("--currentDeg","-".concat(this.currentDeg,"deg"))},autoTurn:function(){0==this.playResultRotate?this.randomDeg=360*Math.random()+1800:this.randomDeg=this.playResultRotate+1800,this.randomDeg-=this.randomDeg%this.rotate,this.targetDeg=this.randomDeg;var t=this.config.rollback?Math.random()*this.config.rollback+1:1;this.$el.style.setProperty("--targetDeg","-".concat(this.targetDeg,"deg")),this.$el.style.setProperty("--rollBackDeg","".concat(t)),this.isRunning=!0},autoTurnStop:function(){this.currentDeg=this.targetDeg%360,this.$el.style.setProperty("--currentDeg","-".concat(this.currentDeg,"deg"));var t=this.currentDeg+this.rotate/2;this.giftsDeg.forEach((function(e){t>=e.from&&t<=e.to&&e.name})),this.isRunning=!1,this.$emit("finished")}}},o=(n(384),n(18)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["gift-container",t.displayType,{autoTurn:t.isRunning}]},t._l(t.isMobileMedia?t.config.gifts_mb:t.config.gifts,(function(e,r){return n("div",{key:r,class:["gift",t.config.style],style:"transform: rotateX("+t.rotate*r+"deg) translateZ("+t.translateZ+"px)"},["text"===e.type?[t._v(t._s(e.name))]:t._e(),t._v(" "),"image"===e.type?[n("div",{staticClass:"giftImg",style:{backgroundImage:"url("+e.path+")"}})]:t._e()],2)})),0)}),[],!1,null,null,null);e.default=component.exports},384:function(t,e,n){"use strict";n(382)},385:function(t,e,n){var r=n(26)(!1);r.push([t.i,".gift-container{-webkit-perspective:999999px;perspective:999999px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;padding:3.5%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-right:7.8vw;-webkit-transform-style:preserve-3d;transform-style:preserve-3d}.gift-container *{-webkit-box-sizing:border-box;box-sizing:border-box}@media (max-width:768px){.gift-container{width:16vw;height:23vw;margin:0 3.2%;padding:0}}.gift-container .gift{position:absolute;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:8vw;height:11vw;background-color:#fff2ea;font-size:var(--fontSize)}@media (max-width:768px){.gift-container .gift{width:14.0625vw;height:26.5625vw}}.gift-container .gift .giftImg{width:100%;height:100%;background-size:110%;background-position:50%;background-repeat:no-repeat}@media (max-width:768px){.gift-container .gift .giftImg{width:14.0625vw;height:26.5625vw}}.gift-container.flat{-webkit-transform:rotateX(var(--currentDeg));transform:rotateX(var(--currentDeg))}.gift-container.flat.autoTurn{-webkit-transition:var(--duration) ease-in-out;transition:var(--duration) ease-in-out;-webkit-transform:rotateX(var(--targetDeg));transform:rotateX(var(--targetDeg))}.gift-container.three-dimension{-webkit-transform:rotateY(var(--rotateY)) rotateX(var(--currentDeg));transform:rotateY(var(--rotateY)) rotateX(var(--currentDeg))}.gift-container.three-dimension.autoTurn{-webkit-transition:var(--duration) cubic-bezier(.1,0,0,var(--rollBackDeg));transition:var(--duration) cubic-bezier(.1,0,0,var(--rollBackDeg));-webkit-transform:rotateY(var(--rotateY)) rotateX(var(--targetDeg));transform:rotateY(var(--rotateY)) rotateX(var(--targetDeg))}",""]),t.exports=r}}]);